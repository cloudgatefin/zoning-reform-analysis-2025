<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <title>Zoning Reform Dashboard — Prototype</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <!-- Styles -->
    <style>
        body { margin:0; background:#0f172a; color:#e5e7eb; font-family:system-ui; }
        .container { max-width:1400px; margin:0 auto; padding:20px; }
        .card { background:#111827; border:1px solid #1f2937; padding:18px; border-radius:12px; margin-bottom:20px; }
        table { width:100%; border-collapse:collapse; }
        th, td { padding:8px; border-bottom:1px solid #1f2937; font-size:14px; text-align:left; }
        th { color:#9ca3af; }
        #map { width:100%; height:600px; }

        /* NEW: Tooltip */
        .mapTooltip {
            position:absolute;
            background:#111827;
            color:#e5e7eb;
            padding:8px 12px;
            border:1px solid #1f2937;
            border-radius:8px;
            pointer-events:none;
            font-size:13px;
            z-index:9999;
        }
    </style>

    <!-- Libraries -->
    <script src="https://cdn.jsdelivr.net/npm/d3@7"></script>
    <script src="https://cdn.jsdelivr.net/npm/topojson@3"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4"></script>
</head>

<body>
<div class="container">

    <button id="downloadBtn">Download Data (CSV)</button>

    <div class="card" style="display:flex;gap:20px;">
        <button id="clearBtn">Clear</button>
        <label>Jump to jurisdiction:</label>
        <select id="jumpFilter"></select>
        <label>Filter by reform type:</label>
        <select id="typeFilter"></select>
    </div>

    <div class="card">
        <h3>Summary</h3>
        <div style="display:flex;gap:25px;">
            <div>Reforms: <span id="sumReforms"></span></div>
            <div>Avg % change: <span id="sumAvgPct"></span></div>
            <div>Effective range: <span id="sumRange"></span></div>
        </div>
    </div>

    <div class="card" style="display:flex;gap:20px;">
        <canvas id="barChart" width="300"></canvas>

        <div style="flex:1;overflow:auto;">
            <table id="reformsTable">
                <thead>
                    <tr>
                        <th>Jurisdiction</th>
                        <th>Reform</th>
                        <th>Type</th>
                        <th>Effective</th>
                        <th>Pre mean</th>
                        <th>Post mean</th>
                        <th>Δ %</th>
                        <th>Status</th>
                        <th>Trend</th>
                    </tr>
                </thead>
                <tbody></tbody>
            </table>
        </div>
    </div>

    <div class="card">
        <h3>Reform Impact Map (US States)</h3>
        <svg id="map"></svg>
    </div>

    <div class="card">
        <h3>State detail</h3>
        <p>Click a state to explore</p>
        <div>
            <div>Jurisdiction: <span id="detailState">—</span></div>
            <div>Avg permits (pre): <span id="detailPre">—</span></div>
            <div>Avg permits (post): <span id="detailPost">—</span></div>
            <div>% change: <span id="detailPct">—</span></div>
        </div>
        <canvas id="stateTrend" height="140"></canvas>
    </div>

</div>

<script src="./js/main.js"></script>
</body>
</html>





